(this["webpackJsonpjour-15"]=this["webpackJsonpjour-15"]||[]).push([[0],{15:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var c=n(1),s=n(5),o=n.n(s),a=n(2),r=n(3),i=n(6),l=n.n(i),j=n(0);function u(t){var e=t.data;return Object(j.jsx)("div",{className:"card",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("p",{className:"card-text",children:e.content}),Object(j.jsx)("blockquote",{className:"blockquote mb-0",children:Object(j.jsx)("footer",{className:"blockquote-footer",children:Object(j.jsxs)("small",{className:"text-muted",children:["Post\xe9 le ",Object(j.jsx)("cite",{title:"Source Title",children:Object(j.jsx)(l.a,{format:"DD/MM \xe0 HH:mm",children:e.postDate})})]})})})]})})}function b(t){var e=t.onPost,n=Object(c.useState)(""),s=Object(a.a)(n,2),o=s[0],i=s[1],l=Object(c.useState)(!1),u=Object(a.a)(l,2),b=u[0],d=u[1];return Object(j.jsx)("form",{className:"mb-3",onSubmit:function(t){t.preventDefault(),""!==o&&(d(!0),Object(r.addPost)(o,(function(t){t&&(e(),i("")),d(!1)})))},children:Object(j.jsx)("fieldset",{disabled:b,children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[Object(j.jsx)("label",{className:"mb-0 font-weight-bold mt-2",htmlFor:"post-content",children:"Contenu \xe0 poster"}),Object(j.jsx)("button",{className:"btn btn-success btn-sm",disabled:""===o,children:"Poster"})]}),Object(j.jsx)("textarea",{name:"content",className:"form-control",placeholder:"Saisissez votre post",id:"post-content",rows:"3",onChange:function(t){i(t.target.value)},value:o})]})})})}n(14),n(15);var d=function(){var t=Object(c.useState)([]),e=Object(a.a)(t,2),n=e[0],s=e[1];Object(c.useEffect)((function(){o()}),[]);var o=function(){Object(r.getPosts)((function(t){t&&s(t.reverse())}))};return Object(j.jsxs)("div",{className:"container mb-5",children:[Object(j.jsx)(b,{onPost:o}),Object(j.jsx)("hr",{}),Object(j.jsx)("div",{className:"card-columns",children:n.map((function(t){return Object(j.jsx)(u,{data:t},t._id)}))})]})};o.a.render(Object(j.jsx)(d,{}),document.getElementById("root"))},3:function(t,e){var n="https://cross-origin.herokuapp.com/https://post-public.netlify.app/.netlify/functions/post";e.getPosts=function(t){fetch(n).then((function(t){if(200===t.status)return t.json()})).then((function(e){t(e)})).catch((function(e){t(!1),console.log(e)}))},e.addPost=function(t,e){fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t})}).then((function(t){return t.json()})).then((function(t){console.log(t),e(t)})).catch((function(t){e(!1),console.log(t)}))}}},[[16,1,2]]]);
//# sourceMappingURL=main.b4ea556a.chunk.js.map